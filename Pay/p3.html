<script src="https://www.paypal.com/sdk/js?client-id=AaW31sVjcKGTe-cWnwHj8EzFolm5JJM-ne3yo3vUJS4RPBbIlrMgoHg18IYcDFgthAbxFiaQzK5N5yuM&currency=USD&enable-funding=card,applepay"></script>

<div id="paypal-button-container"></div>

<script>
  if (paypal.Funding.isEligible(paypal.FUNDING.APPLEPAY)) {
    console.log('Apple Pay متاح على هذا الجهاز.');
  } else {
    console.log('Apple Pay غير متاح على هذا الجهاز.');
  }

  paypal.Buttons({
    fundingSource: paypal.FUNDING.APPLEPAY,
    createOrder: function(data, actions) {
      return actions.order.create({
        purchase_units: [{
          amount: { value: '10.00', currency_code: 'USD' }
        }]
      });
    },
    onApprove: function(data, actions) {
      return actions.order.capture().then(function(details) {
        alert('تم الدفع ب Apple Pay بواسطة ' + details.payer.name.given_name);
      });
    }
  }).render('#paypal-button-container');
</script>
