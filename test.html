<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<title>Ø´Ø§Øª</title>
<style>
  body{font-family:tahoma; background:#f2f5f7; margin:0; padding:20px}
  #box{max-width:420px; margin:auto; background:#fff; border-radius:16px; box-shadow:0 6px 18px rgba(0,0,0,.15); overflow:hidden}
  #h{background:#1E8449; color:#fff; padding:12px; text-align:center; font-weight:bold}
  #m{height:420px; overflow:auto; padding:12px}
  .msg{background:#eef3ff; padding:10px 12px; border-radius:12px; margin:8px 0; white-space:pre-wrap}
  .me{background:#d6eaf8}
  #c{display:flex; gap:8px; padding:12px; border-top:1px solid #eee}
  input{flex:1; padding:10px; border-radius:10px; border:1px solid #ccc}
  button{padding:10px 14px; border:0; border-radius:10px; background:#AED6F1; cursor:pointer}
</style>
</head>
<body>

<div id="box">
  <div id="h">ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯Ø©</div>
  <div id="m"><div class="msg">Ø§Ø³Ø£Ù„ Ø£ÙŠ Ø³Ø¤Ø§Ù„â€¦</div></div>
  <div id="c">
    <input id="t" placeholder="Ø§ÙƒØªØ¨ Ù‡Ù†Ø§..." onkeydown="if(event.key==='Enter')send()">
    <button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
  </div>
</div>

<script>
const m = document.getElementById("m");
function add(text, cls=""){
  const d=document.createElement("div");
  d.className="msg "+cls;
  d.textContent=text;
  m.appendChild(d);
  m.scrollTop=m.scrollHeight;
}
async function send(){
  const t=document.getElementById("t");
  const text=t.value.trim();
  if(!text) return;
  add("ğŸ§’ "+text, "me");
  t.value="";
  add("â³ ...");
  const last = m.lastChild;

  try{
    const r = await fetch("https://incomparable-douhua-ae4ae6.netlify.app/", {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({ text })
    });
    const data = await r.json();
    last.remove();
    add("ğŸ¤– " + (data.reply || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø¯"));
  }catch(e){
    last.remove();
    add("âŒ Ø®Ø·Ø£ Ø§ØªØµØ§Ù„");
  }
}
</script>

</body>
</html>
