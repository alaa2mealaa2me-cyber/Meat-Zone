<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø°ÙƒÙŠ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600&display=swap" rel="stylesheet">

<style>
body{font-family:'Cairo',sans-serif;background:#f7f9fb;}
#chat{position:fixed;top:20px;right:20px;width:340px;height:520px;background:#fff;
border-radius:20px;box-shadow:0 8px 20px rgba(0,0,0,.2);display:flex;flex-direction:column;}
#header{background:#1E8449;color:#fff;padding:14px;text-align:center;border-radius:20px 20px 0 0;}
#msgs{flex:1;padding:10px;overflow-y:auto;}
.msg{background:#eef3ff;padding:8px;border-radius:12px;margin-bottom:6px;}
.user{background:#D6EAF8;}
#input{display:flex;padding:10px;gap:6px;}
#input input{flex:1;padding:8px;border-radius:10px;border:1px solid #ccc;}
#input button{border:none;border-radius:10px;padding:8px;background:#AED6F1;}
</style>
</head>

<body>

<div id="chat">
  <div id="header">ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ</div>
  <div id="msgs">
    <div class="msg">ğŸ‘‹ Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø³Ø¤Ø§Ù„</div>
  </div>
  <div id="input">
    <input id="q" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ..." onkeydown="if(event.key==='Enter') ask()">
    <button onclick="ask()">Ø¥Ø±Ø³Ø§Ù„</button>
  </div>
</div>

<script>
const API_URL = "https://YOUR-WORKER-URL.workers.dev";

async function ask(){
  const input = document.getElementById("q");
  const text = input.value.trim();
  if(!text) return;

  addMsg("ğŸ§’ "+text, "user");
  input.value = "";

  const res = await fetch(API_URL, {
    method: "POST",
    headers: { "Content-Type":"application/json" },
    body: JSON.stringify({ message: text })
  });

  const data = await res.json();
  addMsg("ğŸ¤– "+data.reply);
}

function addMsg(text, cls=""){
  const box=document.getElementById("msgs");
  const d=document.createElement("div");
  d.className="msg "+cls;
  d.innerText=text;
  box.appendChild(d);
  box.scrollTop=box.scrollHeight;
}
</script>

</body>
</html>
